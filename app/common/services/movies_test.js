(function () {
    'use strict';
    
    describe('Movies Service', function () {
        
        var moviesSvc,
            $httpBackend,
            response = {"total":158,"movies":[{"id":"771349837","title":"The Maze Runner","year":2014,"mpaa_rating":"PG-13","runtime":114,"critics_consensus":"","release_dates":{"theater":"2014-09-19"},"ratings":{"critics_rating":"Fresh","critics_score":63,"audience_rating":"Upright","audience_score":79},"synopsis":"When Thomas wakes up trapped in a massive maze with a group of other boys, he has no memory of the outside world other than strange dreams about a mysterious organization known as W.C.K.D. Only by piecing together fragments of his past with clues he discovers in the maze can Thomas hope to uncover his true purpose and a way to escape. Based upon the best-selling novel by James Dashner. (c) Fox","posters":{"thumbnail":"http://content7.flixster.com/movie/11/17/97/11179705_tmb.jpg","profile":"http://content7.flixster.com/movie/11/17/97/11179705_tmb.jpg","detailed":"http://content7.flixster.com/movie/11/17/97/11179705_tmb.jpg","original":"http://content7.flixster.com/movie/11/17/97/11179705_tmb.jpg"},"abridged_cast":[{"name":"Dylan O'Brien","id":"771375271","characters":["Thomas"]},{"name":"Kaya Scodelario","id":"770803276","characters":["Teresa"]},{"name":"Will Poulter","id":"770791291","characters":["Gally"]},{"name":"Thomas Brodie-Sangster","id":"771100380","characters":["Newt"]},{"name":"Aml Ameen","id":"364640368","characters":["Alby"]}],"alternate_ids":{"imdb":"1790864"},"links":{"self":"http://api.rottentomatoes.com/api/public/v1.0/movies/771349837.json","alternate":"http://www.rottentomatoes.com/m/the_maze_runner/","cast":"http://api.rottentomatoes.com/api/public/v1.0/movies/771349837/cast.json","reviews":"http://api.rottentomatoes.com/api/public/v1.0/movies/771349837/reviews.json","similar":"http://api.rottentomatoes.com/api/public/v1.0/movies/771349837/similar.json"}},{"id":"771359312","title":"Dolphin Tale 2","year":2014,"mpaa_rating":"PG","runtime":107,"critics_consensus":"","release_dates":{"theater":"2014-09-12"},"ratings":{"critics_rating":"Fresh","critics_score":71,"audience_rating":"Upright","audience_score":77},"synopsis":"Warner Bros. Pictures and Alcon Entertainment's \"Dolphin Tale 2\" continues the story of the brave dolphin Winter, whose miraculous rescue and recovery-thanks to a groundbreaking prosthetic tail-made her a symbol of hope and perseverance to people around the world and inspired the 2011 family hit movie \"Dolphin Tale.\" The film reunites the entire main cast, led by Harry Connick, Jr., Oscar (R) winner Morgan Freeman (\"Million Dollar Baby\"), Ashley Judd, Kris Kristofferson, Nathan Gamble, Cozi Zuehlsdorff, Austin Stowell, and, of course, the remarkable dolphin Winter as herself. Charles Martin Smith, who directed \"Dolphin Tale,\" wrote the sequel and is again at the helm. It has been several years since young Sawyer Nelson (Gamble) and the dedicated team at the Clearwater Marine Hospital, headed by Dr. Clay Haskett (Connick, Jr.), rescued Winter. With the help of Dr. Cameron McCarthy (Freeman), who developed a unique prosthetic tail for the injured dolphin, they were able to save her life. (C) Warner Bros","posters":{"thumbnail":"http://content9.flixster.com/movie/11/17/86/11178687_tmb.jpg","profile":"http://content9.flixster.com/movie/11/17/86/11178687_tmb.jpg","detailed":"http://content9.flixster.com/movie/11/17/86/11178687_tmb.jpg","original":"http://content9.flixster.com/movie/11/17/86/11178687_tmb.jpg"},"abridged_cast":[{"name":"Harry Connick Jr.","id":"162674026","characters":["Dr. Clay Haskett"]},{"name":"Morgan Freeman","id":"162652224","characters":["Dr. Cameron McCarthy"]},{"name":"Kris Kristofferson","id":"162654718","characters":["Reed"]},{"name":"Ashley Judd","id":"162662542","characters":["Lorraine"]},{"name":"Nathan Gamble","id":"770682696","characters":["Sawyer Nelson"]}],"alternate_ids":{"imdb":"2978462"},"links":{"self":"http://api.rottentomatoes.com/api/public/v1.0/movies/771359312.json","alternate":"http://www.rottentomatoes.com/m/dolphin_tale_2/","cast":"http://api.rottentomatoes.com/api/public/v1.0/movies/771359312/cast.json","reviews":"http://api.rottentomatoes.com/api/public/v1.0/movies/771359312/reviews.json","similar":"http://api.rottentomatoes.com/api/public/v1.0/movies/771359312/similar.json"}},{"id":"771311818","title":"Guardians of the Galaxy","year":2014,"mpaa_rating":"PG-13","runtime":121,"critics_consensus":"","release_dates":{"theater":"2014-08-01"},"ratings":{"critics_rating":"Certified Fresh","critics_score":92,"audience_rating":"Upright","audience_score":95},"synopsis":"From Marvel, the studio that brought you the global blockbuster franchises of Iron Man, Thor, Captain America and The Avengers, comes a new team-the Guardians of the Galaxy. An action-packed, epic space adventure, Marvel's \"Guardians of the Galaxy\" expands the Marvel Cinematic Universe into the cosmos, where brash adventurer Peter Quill finds himself the object of an unrelenting bounty hunt after stealing a mysterious orb coveted by Ronan, a powerful villain with ambitions that threaten the entire universe. To evade the ever-persistent Ronan, Quill is forced into an uneasy truce with a quartet of disparate misfits-Rocket, a gun-toting raccoon, Groot, a tree-like humanoid, the deadly and enigmatic Gamora and the revenge-driven Drax the Destroyer. But when Quill discovers the true power of the orb and the menace it poses to the cosmos, he must do his best to rally his ragtag rivals for a last, desperate stand-with the galaxy's fate in the balance. (C) Walt Disney","posters":{"thumbnail":"http://content8.flixster.com/movie/11/17/80/11178082_tmb.jpg","profile":"http://content8.flixster.com/movie/11/17/80/11178082_tmb.jpg","detailed":"http://content8.flixster.com/movie/11/17/80/11178082_tmb.jpg","original":"http://content8.flixster.com/movie/11/17/80/11178082_tmb.jpg"},"abridged_cast":[{"name":"Chris Pratt","id":"770692298","characters":["Peter Quill/Star-Lord"]},{"name":"Zoe Saldana","id":"162660050","characters":["Gamora"]},{"name":"David Bautista","id":"770737809","characters":["Drax the Destroyer"]},{"name":"Lee Pace","id":"493815806","characters":["Ronan the Accuser"]},{"name":"Bradley Cooper","id":"351525448","characters":["Rocket Raccoon"]}],"alternate_ids":{"imdb":"2015381"},"links":{"self":"http://api.rottentomatoes.com/api/public/v1.0/movies/771311818.json","alternate":"http://www.rottentomatoes.com/m/guardians_of_the_galaxy/","cast":"http://api.rottentomatoes.com/api/public/v1.0/movies/771311818/cast.json","reviews":"http://api.rottentomatoes.com/api/public/v1.0/movies/771311818/reviews.json","similar":"http://api.rottentomatoes.com/api/public/v1.0/movies/771311818/similar.json"}},{"id":"771351531","title":"This Is Where I Leave You","year":2014,"mpaa_rating":"R","runtime":103,"critics_consensus":"","release_dates":{"theater":"2014-09-19"},"ratings":{"critics_rating":"Rotten","critics_score":43,"audience_rating":"Upright","audience_score":71},"synopsis":"The dramatic comedy \"This is Where I Leave You\" is directed by Shawn Levy, and based on the hilarious and poignant best-selling novel by Jonathan Tropper. It features a starring ensemble cast including Golden Globe winner Jason Bateman (\"Arrested Development\"); Golden Globe and Emmy Award winner Tina Fey (\"30 Rock\"); and two-time Oscar (R) winner, multiple Golden Globe honoree and 2013 Emmy Award nominee Jane Fonda (\"Klute,\" \"Coming Home,\" HBO's \"The Newsroom\"). (c) Warner Bros","posters":{"thumbnail":"http://content9.flixster.com/movie/11/17/91/11179187_tmb.jpg","profile":"http://content9.flixster.com/movie/11/17/91/11179187_tmb.jpg","detailed":"http://content9.flixster.com/movie/11/17/91/11179187_tmb.jpg","original":"http://content9.flixster.com/movie/11/17/91/11179187_tmb.jpg"},"abridged_cast":[{"name":"Jason Bateman","id":"326298973","characters":["Judd Altman"]},{"name":"Tina Fey","id":"427823878","characters":["Wendy Altman"]},{"name":"Jane Fonda","id":"162652168","characters":["Hilary Altman"]},{"name":"Corey Stoll","id":"770875086","characters":["Paul Altman"]},{"name":"Adam Driver","id":"771387369","characters":["Phillip Altman"]}],"alternate_ids":{"imdb":"1371150"},"links":{"self":"http://api.rottentomatoes.com/api/public/v1.0/movies/771351531.json","alternate":"http://www.rottentomatoes.com/m/this_is_where_i_leave_you/","cast":"http://api.rottentomatoes.com/api/public/v1.0/movies/771351531/cast.json","reviews":"http://api.rottentomatoes.com/api/public/v1.0/movies/771351531/reviews.json","similar":"http://api.rottentomatoes.com/api/public/v1.0/movies/771351531/similar.json"}},{"id":"771367644","title":"A Walk Among the Tombstones","year":2014,"mpaa_rating":"R","runtime":114,"critics_consensus":"","release_dates":{"theater":"2014-09-19"},"ratings":{"critics_rating":"Fresh","critics_score":66,"audience_rating":"Upright","audience_score":64},"synopsis":"Based on Lawrence Block's bestselling series of mystery novels, A Walk among the Tombstones stars Liam Neeson as Matt Scudder, an ex-NYPD cop who now works as an unlicensed private investigator operating just outside the law. When Scudder reluctantly agrees to help a heroin trafficker (Dan Stevens) hunt down the men who kidnapped and then brutally murdered his wife, the PI learns that this is not the first time these men have committed this sort of twisted crime...nor will it be the last. Blurring the lines between right and wrong, Scudder races to track the deviants through the backstreets of New York City before they kill again. (C) Universal","posters":{"thumbnail":"http://content9.flixster.com/movie/11/17/85/11178575_tmb.jpg","profile":"http://content9.flixster.com/movie/11/17/85/11178575_tmb.jpg","detailed":"http://content9.flixster.com/movie/11/17/85/11178575_tmb.jpg","original":"http://content9.flixster.com/movie/11/17/85/11178575_tmb.jpg"},"abridged_cast":[{"name":"Liam Neeson","id":"162652242","characters":["Matt Scudder"]},{"name":"Dan Stevens (IV)","id":"770698532","characters":["Kenny Kristo"]},{"name":"David Harbour","id":"770772702","characters":["Ray"]},{"name":"Robert Boyd Holbrook","id":"771061616","characters":["Peter Kristo"]},{"name":"Patrick F. McDade","id":"771043268","characters":["Bar Owner"]}],"alternate_ids":{"imdb":"0365907"},"links":{"self":"http://api.rottentomatoes.com/api/public/v1.0/movies/771367644.json","alternate":"http://www.rottentomatoes.com/m/a_walk_among_the_tombstones/","cast":"http://api.rottentomatoes.com/api/public/v1.0/movies/771367644/cast.json","reviews":"http://api.rottentomatoes.com/api/public/v1.0/movies/771367644/reviews.json","similar":"http://api.rottentomatoes.com/api/public/v1.0/movies/771367644/similar.json"}},{"id":"771191433","title":"Teenage Mutant Ninja Turtles","year":2014,"mpaa_rating":"PG-13","runtime":101,"critics_consensus":"","release_dates":{"theater":"2014-08-08"},"ratings":{"critics_rating":"Rotten","critics_score":19,"audience_rating":"Spilled","audience_score":59},"synopsis":"The city needs heroes. Darkness has settled over New York City as Shredder and his evil Foot Clan have an iron grip on everything from the police to the politicians. The future is grim until four unlikely outcast brothers rise from the sewers and discover their destiny as Teenage Mutant Ninja Turtles. The Turtles must work with fearless reporter April O'Neil (Megan Fox) and her wise-cracking cameraman Vern Fenwick (Will Arnett) to save the city and unravel Shredder's diabolical plan. Based on the Teenage Mutant Ninja Turtles Characters Created by PETER LAIRD and KEVIN EASTMAN with a Screenplay by JOSH APPELBAUM & ANDRE NEMEC and EVAN DAUGHERTY, Teenage Mutant Ninja Turtles is produced by MICHAEL BAY (director and executive producer of the blockbuster Transformers franchise), Andrew Form, Brad Fuller, Galen Walker, Scott Mednick and Ian Bryce, and directed by JONATHAN LIEBESMAN (Wrath of the Titans).(c) Paramount","posters":{"thumbnail":"http://content7.flixster.com/movie/11/17/95/11179597_tmb.jpg","profile":"http://content7.flixster.com/movie/11/17/95/11179597_tmb.jpg","detailed":"http://content7.flixster.com/movie/11/17/95/11179597_tmb.jpg","original":"http://content7.flixster.com/movie/11/17/95/11179597_tmb.jpg"},"abridged_cast":[{"name":"Megan Fox","id":"162665778","characters":["April O'Neil"]},{"name":"Alan Ritchson","id":"770760819","characters":["Raphael"]},{"name":"Pete Ploszek","id":"771441319","characters":["Leonardo"]},{"name":"Johnny Knoxville","id":"162652591","characters":["Leonardo (voice)"]},{"name":"Jeremy Howard","id":"381420643","characters":["Donatello"]}],"alternate_ids":{"imdb":"1291150"},"links":{"self":"http://api.rottentomatoes.com/api/public/v1.0/movies/771191433.json","alternate":"http://www.rottentomatoes.com/m/teenage_mutant_ninja_turtles_2013/","cast":"http://api.rottentomatoes.com/api/public/v1.0/movies/771191433/cast.json","reviews":"http://api.rottentomatoes.com/api/public/v1.0/movies/771191433/reviews.json","similar":"http://api.rottentomatoes.com/api/public/v1.0/movies/771191433/similar.json"}},{"id":"771271279","title":"No Good Deed","year":2014,"mpaa_rating":"PG-13","runtime":84,"critics_consensus":"","release_dates":{"theater":"2014-09-12"},"ratings":{"critics_rating":"Rotten","critics_score":11,"audience_rating":"Upright","audience_score":66},"synopsis":"Terri (Taraji P. Henson), a devoted wife and mother of two, lives an ideal life that takes a dramatic turn when her home and children are threatened by Colin (Idris Elba), a charming stranger who smooth-talks his way into her house, claiming car trouble. The unexpected invitation leaves her and her family terrorized and fighting for survival. (C) Sony","posters":{"thumbnail":"http://content6.flixster.com/movie/11/17/96/11179696_tmb.jpg","profile":"http://content6.flixster.com/movie/11/17/96/11179696_tmb.jpg","detailed":"http://content6.flixster.com/movie/11/17/96/11179696_tmb.jpg","original":"http://content6.flixster.com/movie/11/17/96/11179696_tmb.jpg"},"abridged_cast":[{"name":"Idris Elba","id":"162654425","characters":["Colin"]},{"name":"Taraji P. Henson","id":"598455133","characters":["Terri"]},{"name":"Kate del Castillo","id":"497685690","characters":["Alexis"]},{"name":"Leslie Bibb","id":"563122407","characters":["Meg"]},{"name":"Henry Simmons","id":"364636328","characters":["Jeffrey"]}],"alternate_ids":{"imdb":"2011159"},"links":{"self":"http://api.rottentomatoes.com/api/public/v1.0/movies/771271279.json","alternate":"http://www.rottentomatoes.com/m/no_good_deed_2013/","cast":"http://api.rottentomatoes.com/api/public/v1.0/movies/771271279/cast.json","reviews":"http://api.rottentomatoes.com/api/public/v1.0/movies/771271279/reviews.json","similar":"http://api.rottentomatoes.com/api/public/v1.0/movies/771271279/similar.json"}},{"id":"771021197","title":"If I Stay","year":2014,"mpaa_rating":"PG-13","runtime":106,"critics_consensus":"","release_dates":{"theater":"2014-08-22"},"ratings":{"critics_rating":"Rotten","critics_score":37,"audience_rating":"Upright","audience_score":67},"synopsis":"Mia Hall (Chloe Grace Moretz) thought the hardest decision she would ever face would be whether to pursue her musical dreams at Juilliard or follow a different path to be with the love of her life, Adam (Jamie Blackley). But what should have been a carefree family drive changes everything in an instant, and now her own life hangs in the balance. Caught between life and death for one revealing day, Mia has only one decision left, which will not only decide her future but her ultimate fate. \"If I Stay\" is based on the best-selling novel of the same name. (c) Warner Bros","posters":{"thumbnail":"http://content8.flixster.com/movie/11/17/85/11178574_tmb.jpg","profile":"http://content8.flixster.com/movie/11/17/85/11178574_tmb.jpg","detailed":"http://content8.flixster.com/movie/11/17/85/11178574_tmb.jpg","original":"http://content8.flixster.com/movie/11/17/85/11178574_tmb.jpg"},"abridged_cast":[{"name":"Chloe Grace Moretz","id":"771410621","characters":["Mia Hall"]},{"name":"Jamie Blackley","id":"771080141","characters":["Adam"]},{"name":"Lauren Lee Smith","id":"364625106","characters":["Willow"]},{"name":"Mireille Enos","id":"770770988","characters":["Kat"]},{"name":"Stacy Keach","id":"162678778","characters":["Gramps"]}],"alternate_ids":{"imdb":"1355630"},"links":{"self":"http://api.rottentomatoes.com/api/public/v1.0/movies/771021197.json","alternate":"http://www.rottentomatoes.com/m/if_i_stay/","cast":"http://api.rottentomatoes.com/api/public/v1.0/movies/771021197/cast.json","reviews":"http://api.rottentomatoes.com/api/public/v1.0/movies/771021197/reviews.json","similar":"http://api.rottentomatoes.com/api/public/v1.0/movies/771021197/similar.json"}},{"id":"771372963","title":"Let's Be Cops","year":2014,"mpaa_rating":"R","runtime":109,"critics_consensus":"","release_dates":{"theater":"2014-08-13"},"ratings":{"critics_rating":"Rotten","critics_score":20,"audience_rating":"Upright","audience_score":61},"synopsis":"It's the ultimate buddy cop movie except for one thing: they're not cops. When two struggling pals dress as police officers for a costume party, they become neighborhood sensations. But when these newly-minted \"heroes\" get tangled in a real life web of mobsters and dirty detectives, they must put their fake badges on the line. (c) Fox","posters":{"thumbnail":"http://content9.flixster.com/movie/11/17/92/11179227_tmb.jpg","profile":"http://content9.flixster.com/movie/11/17/92/11179227_tmb.jpg","detailed":"http://content9.flixster.com/movie/11/17/92/11179227_tmb.jpg","original":"http://content9.flixster.com/movie/11/17/92/11179227_tmb.jpg"},"abridged_cast":[{"name":"Damon Wayans Jr.","id":"770822247","characters":["Justin"]},{"name":"Jake M. Johnson","id":"770827943","characters":["Ryan"]},{"name":"Rob Riggle","id":"770750133","characters":["Segars"]},{"name":"Nina Dobrev","id":"528347792","characters":["Josie"]},{"name":"James D'Arcy","id":"162660361","characters":["Mossi"]}],"alternate_ids":{"imdb":"1924435"},"links":{"self":"http://api.rottentomatoes.com/api/public/v1.0/movies/771372963.json","alternate":"http://www.rottentomatoes.com/m/lets_be_cops/","cast":"http://api.rottentomatoes.com/api/public/v1.0/movies/771372963/cast.json","reviews":"http://api.rottentomatoes.com/api/public/v1.0/movies/771372963/reviews.json","similar":"http://api.rottentomatoes.com/api/public/v1.0/movies/771372963/similar.json"}},{"id":"771355196","title":"When The Game Stands Tall","year":2014,"mpaa_rating":"PG","runtime":115,"critics_consensus":"","release_dates":{"theater":"2014-08-22"},"ratings":{"critics_rating":"Rotten","critics_score":18,"audience_rating":"Upright","audience_score":79},"synopsis":"Inspired by a true story, WHEN THE GAME STANDS TALL tells the remarkable journey of legendary football coach Bob Ladouceur (Jim Caviezel), who took the De La Salle High School Spartans from obscurity to a 151-game winning streak that shattered all records for any American sport. When the streak is broken, and tragedy strikes the team, Coach Lad must teach his players - and the entire town - that it's not about how you fall, but how you get back up. (C) Warner Bros","posters":{"thumbnail":"http://content7.flixster.com/movie/11/17/88/11178889_tmb.jpg","profile":"http://content7.flixster.com/movie/11/17/88/11178889_tmb.jpg","detailed":"http://content7.flixster.com/movie/11/17/88/11178889_tmb.jpg","original":"http://content7.flixster.com/movie/11/17/88/11178889_tmb.jpg"},"abridged_cast":[{"name":"Jim Caviezel","id":"771395445","characters":["Bob Ladouceur"]},{"name":"Michael Chiklis","id":"162652783","characters":["Teddy Eidson"]},{"name":"Alexander Ludwig","id":"770682403","characters":["Chris Ryan"]},{"name":"Laura Dern","id":"162654251","characters":["Bev Ladouceur"]},{"name":"Clancy Brown","id":"162663805","characters":["Mickey Ryan"]}],"alternate_ids":{"imdb":"2247476"},"links":{"self":"http://api.rottentomatoes.com/api/public/v1.0/movies/771355196.json","alternate":"http://www.rottentomatoes.com/m/when_the_game_stands_tall/","cast":"http://api.rottentomatoes.com/api/public/v1.0/movies/771355196/cast.json","reviews":"http://api.rottentomatoes.com/api/public/v1.0/movies/771355196/reviews.json","similar":"http://api.rottentomatoes.com/api/public/v1.0/movies/771355196/similar.json"}},{"id":"771365263","title":"The Giver","year":2014,"mpaa_rating":"PG-13","runtime":140,"critics_consensus":"","release_dates":{"theater":"2014-08-15"},"ratings":{"critics_rating":"Rotten","critics_score":35,"audience_rating":"Upright","audience_score":63},"synopsis":"The haunting story of THE GIVER centers on Jonas (Brenton Thwaites), a young man who lives in a seemingly ideal, if colorless, world of conformity and contentment. Yet as he begins to spend time with The Giver (Jeff Bridges), who is the sole keeper of all the community's memories, Jonas quickly begins to discover the dark and deadly truths of his community's secret past. With this newfound power of knowledge, he realizes that the stakes are higher than imagined - a matter of life and death for himself and those he loves most. At extreme odds, Jonas knows that he must escape their world to protect them all - a challenge that no one has ever succeeded at before. THE GIVER is based on Lois Lowry's beloved young adult novel of the same name, which was the winner the 1994 Newbery Medal and has sold over 10 million copies worldwide. (C) Weinstein","posters":{"thumbnail":"http://content7.flixster.com/movie/11/17/88/11178893_tmb.jpg","profile":"http://content7.flixster.com/movie/11/17/88/11178893_tmb.jpg","detailed":"http://content7.flixster.com/movie/11/17/88/11178893_tmb.jpg","original":"http://content7.flixster.com/movie/11/17/88/11178893_tmb.jpg"},"abridged_cast":[{"name":"Meryl Streep","id":"162654900","characters":["Chief Elder"]},{"name":"Jeff Bridges","id":"162655890","characters":["The Giver"]},{"name":"Taylor Swift","id":"770677834","characters":["Rosemary"]},{"name":"Katie Holmes","id":"162652648","characters":["Mother"]},{"name":"Brenton Thwaites","id":"771420717","characters":["Jonas"]}],"alternate_ids":{"imdb":"0435651"},"links":{"self":"http://api.rottentomatoes.com/api/public/v1.0/movies/771365263.json","alternate":"http://www.rottentomatoes.com/m/the_giver/","cast":"http://api.rottentomatoes.com/api/public/v1.0/movies/771365263/cast.json","reviews":"http://api.rottentomatoes.com/api/public/v1.0/movies/771365263/reviews.json","similar":"http://api.rottentomatoes.com/api/public/v1.0/movies/771365263/similar.json"}},{"id":"771376214","title":"The November Man","year":2014,"mpaa_rating":"R","runtime":108,"critics_consensus":"","release_dates":{"theater":"2014-08-27"},"ratings":{"critics_rating":"Rotten","critics_score":36,"audience_rating":"Spilled","audience_score":58},"synopsis":"Code named 'The November Man', Peter Devereaux (Pierce Brosnan) is a lethal and highly trained ex-CIA agent, who has been enjoying a quiet life in Switzerland. When Devereaux is lured out of retirement for one last mission, he must protect valuable witness, Alice Fournier, (Olga Kurylenko). He soon uncovers this assignment marks him a target of his former friend and CIA protege David Mason (Luke Bracey). With growing suspicions of a mole in the agency, there is no one Devereaux can trust, no rules and no holds barred. With a screenplay by Michael Finch & Karl Gajdusek based on Bill Granger's novel \"There are No Spies\" from the bestselling November Man book series, THE NOVEMBER MAN is the ultimate cat and mouse game set in the world of international espionage. Directed by Roger Donaldson (The Bank Job, No Way Out, Thirteen Days), the film is produced by Beau St. Clair of Irish DreamTime and Sriram Das of Das Films.(c) Relativity","posters":{"thumbnail":"http://content9.flixster.com/movie/11/17/95/11179595_tmb.jpg","profile":"http://content9.flixster.com/movie/11/17/95/11179595_tmb.jpg","detailed":"http://content9.flixster.com/movie/11/17/95/11179595_tmb.jpg","original":"http://content9.flixster.com/movie/11/17/95/11179595_tmb.jpg"},"abridged_cast":[{"name":"Pierce Brosnan","id":"162663451","characters":["Peter Devereaux"]},{"name":"Luke Bracey","id":"771373201","characters":["David Mason"]},{"name":"Olga Kurylenko","id":"238450143","characters":["Alice Fournier"]},{"name":"Eliza Taylor","id":"771483496","characters":["Sarah"]},{"name":"Catarina Scorsone","id":"770782847","characters":["Celia"]}],"alternate_ids":{"imdb":"2402157"},"links":{"self":"http://api.rottentomatoes.com/api/public/v1.0/movies/771376214.json","alternate":"http://www.rottentomatoes.com/m/the_november_man/","cast":"http://api.rottentomatoes.com/api/public/v1.0/movies/771376214/cast.json","reviews":"http://api.rottentomatoes.com/api/public/v1.0/movies/771376214/reviews.json","similar":"http://api.rottentomatoes.com/api/public/v1.0/movies/771376214/similar.json"}},{"id":"771373027","title":"The Drop","year":2014,"mpaa_rating":"R","runtime":106,"critics_consensus":"","release_dates":{"theater":"2014-09-12"},"ratings":{"critics_rating":"Certified Fresh","critics_score":89,"audience_rating":"Upright","audience_score":84},"synopsis":"THE DROP is a new crime drama from Michael R. Roskam, the Academy Award nominated director of Bullhead. Based on a screenplay from Dennis Lehane (Mystic River, Gone Baby Gone), THE DROP follows lonely bartender Bob Saginowski (Tom Hardy) through a covert scheme of funneling cash to local gangsters - \"money drops\" in the underworld of Brooklyn bars. Under the heavy hand of his employer and cousin Marv (James Gandolfini), Bob finds himself at the center of a robbery gone awry and entwined in an investigation that digs deep into the neighborhood's past. Also featuring Noomi Rapace, Matthias Schoenaerts, Ann Dowd and John Ortiz. (C) Fox Searchlight","posters":{"thumbnail":"http://content6.flixster.com/movie/11/17/82/11178208_tmb.jpg","profile":"http://content6.flixster.com/movie/11/17/82/11178208_tmb.jpg","detailed":"http://content6.flixster.com/movie/11/17/82/11178208_tmb.jpg","original":"http://content6.flixster.com/movie/11/17/82/11178208_tmb.jpg"},"abridged_cast":[{"name":"Tom Hardy","id":"391527059","characters":["Bob Saginowski"]},{"name":"Noomi Rapace","id":"770821073","characters":["Nadia"]},{"name":"James Gandolfini","id":"162667080","characters":["Cousin Marv"]},{"name":"Matthias Schoenaerts","id":"403904587","characters":["Eric"]},{"name":"John Ortiz","id":"769772570","characters":["Detective Torres"]}],"alternate_ids":{"imdb":"1600196"},"links":{"self":"http://api.rottentomatoes.com/api/public/v1.0/movies/771373027.json","alternate":"http://www.rottentomatoes.com/m/the_drop/","cast":"http://api.rottentomatoes.com/api/public/v1.0/movies/771373027/cast.json","reviews":"http://api.rottentomatoes.com/api/public/v1.0/movies/771373027/reviews.json","similar":"http://api.rottentomatoes.com/api/public/v1.0/movies/771373027/similar.json"}},{"id":"771359009","title":"The Hundred-Foot Journey","year":2014,"mpaa_rating":"PG","runtime":122,"critics_consensus":"","release_dates":{"theater":"2014-08-08"},"ratings":{"critics_rating":"Fresh","critics_score":67,"audience_rating":"Upright","audience_score":84},"synopsis":"In \"The Hundred-Foot Journey,\" Hassan Kadam (Manish Dayal) is a culinary ingenue with the gastronomic equivalent of perfect pitch. Displaced from their native India, the Kadam family, led by Papa (Om Puri), settles in the quaint village of Saint-Antonin-Noble-Val in the south of France. Filled with charm, it is both picturesque and elegant - the ideal place to settle down and open an Indian restaurant, the Maison Mumbai. That is, until the chilly chef proprietress of Le Saule Pleureur, a Michelin starred, classical French restaurant run by Madame Mallory (Academy Award (R)-winner Helen Mirren), gets wind of it. Her icy protests against the new Indian restaurant a hundred feet from her own, escalate to all out war between the two establishments - until Hassan's passion for French haute cuisine and for Mme. Mallory's enchanting sous chef, Marguerite (Charlotte Le Bon), combine with his mysteriously delicious talent to weave magic between their two cultures and imbue Saint-Antonin with the flavors of life that even Mme. Mallory cannot ignore. At first Mme. Mallory's culinary rival, she eventually recognizes Hassan's gift as a chef and takes him under her wing. (c) Disney","posters":{"thumbnail":"http://content8.flixster.com/movie/11/17/88/11178838_tmb.jpg","profile":"http://content8.flixster.com/movie/11/17/88/11178838_tmb.jpg","detailed":"http://content8.flixster.com/movie/11/17/88/11178838_tmb.jpg","original":"http://content8.flixster.com/movie/11/17/88/11178838_tmb.jpg"},"abridged_cast":[{"name":"Helen Mirren","id":"162662871","characters":["Madame Mallory"]},{"name":"Manish Dayal","id":"770779441","characters":["Hassan Kadam"]},{"name":"Om Puri","id":"162705440","characters":["Papa"]},{"name":"Charlotte Le Bon","id":"771426955","characters":["Marguerite"]},{"name":"Amit Shah","id":"770869429","characters":["Mansur"]}],"alternate_ids":{"imdb":"2980648"},"links":{"self":"http://api.rottentomatoes.com/api/public/v1.0/movies/771359009.json","alternate":"http://www.rottentomatoes.com/m/the_hundred_foot_journey/","cast":"http://api.rottentomatoes.com/api/public/v1.0/movies/771359009/cast.json","reviews":"http://api.rottentomatoes.com/api/public/v1.0/movies/771359009/reviews.json","similar":"http://api.rottentomatoes.com/api/public/v1.0/movies/771359009/similar.json"}},{"id":"771310211","title":"As Above/So Below","year":2014,"mpaa_rating":"R","runtime":93,"critics_consensus":"","release_dates":{"theater":"2014-08-29"},"ratings":{"critics_rating":"Rotten","critics_score":27,"audience_rating":"Spilled","audience_score":44},"synopsis":"Miles of twisting catacombs lie beneath the streets of Paris, the eternal home to countless souls. When a team of explorers ventures into the uncharted maze of bones, they uncover the secret of what this city of the dead was meant to contain. A journey into madness and terror, As Above, So Below reaches deep into the human psyche to reveal the personal demons that come back to haunt us all. Written by John Erick Dowdle and Drew Dowdle (Quarantine, Devil) and directed by John Erick Dowdle, the psychological thriller is produced by Thomas Tull, Jon Jashni, Drew Dowdle and Patrick Aiello. Alex Hedlund serves as the executive producer. (C)Universal","posters":{"thumbnail":"http://content7.flixster.com/movie/11/17/76/11177649_tmb.jpg","profile":"http://content7.flixster.com/movie/11/17/76/11177649_tmb.jpg","detailed":"http://content7.flixster.com/movie/11/17/76/11177649_tmb.jpg","original":"http://content7.flixster.com/movie/11/17/76/11177649_tmb.jpg"},"abridged_cast":[{"name":"Perdita Weeks","id":"770672860","characters":["Scarlett"]},{"name":"Ben Feldman","id":"364642224","characters":["George"]},{"name":"Edwin Hodge","id":"770673719","characters":["Benji"]},{"name":"Francois Civil","id":"770871954","characters":["Papillon"]},{"name":"Marion Lambert","id":"771501525","characters":["Souxie"]}],"alternate_ids":{"imdb":"2870612"},"links":{"self":"http://api.rottentomatoes.com/api/public/v1.0/movies/771310211.json","alternate":"http://www.rottentomatoes.com/m/as_aboveso_below/","cast":"http://api.rottentomatoes.com/api/public/v1.0/movies/771310211/cast.json","reviews":"http://api.rottentomatoes.com/api/public/v1.0/movies/771310211/reviews.json","similar":"http://api.rottentomatoes.com/api/public/v1.0/movies/771310211/similar.json"}},{"id":"771360863","title":"Lucy","year":2014,"mpaa_rating":"R","runtime":89,"critics_consensus":"","release_dates":{"theater":"2014-07-25"},"ratings":{"critics_rating":"Fresh","critics_score":66,"audience_rating":"Spilled","audience_score":48},"synopsis":"From La Femme Nikita and The Professional to The Fifth Element, writer/director Luc Besson has created some of the toughest, most memorable female action heroes in cinematic history. Now, Besson directs Scarlett Johansson in Lucy, an action-thriller that tracks a woman accidentally caught in a dark deal who turns the tables on her captors and transforms into a merciless warrior evolved beyond human logic. (C) Universal","posters":{"thumbnail":"http://content6.flixster.com/movie/11/17/83/11178332_tmb.jpg","profile":"http://content6.flixster.com/movie/11/17/83/11178332_tmb.jpg","detailed":"http://content6.flixster.com/movie/11/17/83/11178332_tmb.jpg","original":"http://content6.flixster.com/movie/11/17/83/11178332_tmb.jpg"},"abridged_cast":[{"name":"Scarlett Johansson","id":"162652872","characters":["Lucy"]},{"name":"Morgan Freeman","id":"162652224","characters":["Professor Norman"]},{"name":"Min-sik Choi","id":"162695879","characters":["Mr. Jang"]},{"name":"Amr Waked","id":"326393104","characters":["Pierre Del Rio"]},{"name":"Julian Rhind-Tutt","id":"288356077","characters":["The Limey"]}],"alternate_ids":{"imdb":"2872732"},"links":{"self":"http://api.rottentomatoes.com/api/public/v1.0/movies/771360863.json","alternate":"http://www.rottentomatoes.com/m/lucy_2014/","cast":"http://api.rottentomatoes.com/api/public/v1.0/movies/771360863/cast.json","reviews":"http://api.rottentomatoes.com/api/public/v1.0/movies/771360863/reviews.json","similar":"http://api.rottentomatoes.com/api/public/v1.0/movies/771360863/similar.json"}}],"links":{"self":"http://api.rottentomatoes.com/api/public/v1.0/lists/movies/in_theaters.json?page_limit=16&country=us&page=1","next":"http://api.rottentomatoes.com/api/public/v1.0/lists/movies/in_theaters.json?page_limit=16&country=us&page=2","alternate":"http://www.rottentomatoes.com/movie/in_theaters"},"link_template":"http://api.rottentomatoes.com/api/public/v1.0/lists/movies/in_theaters.json?page_limit={results_per_page}&page={page_number}&country={country-code}"};
        
        beforeEach(module('services.movies'));
        beforeEach(inject(function($injector) {
            $httpBackend = $injector.get('$httpBackend');
            
            $httpBackend.whenJSONP('http://api.rottentomatoes.com/api/public/v1.0/lists/movies/in_theaters.json?apikey=qdcwaccyw2tbd5yyk27mdfw2&callback=JSON_CALLBACK')
                .respond(response);
            
            moviesSvc = $injector.get('Movies');
        }));
        
        it('should have a movies service defined', function () {
             expect(moviesSvc).toBeDefined();
        });
        
        it('should fetch 16 movies', function () {
            moviesSvc.query().$promise.then(function (movies) {
                expect(movies.length).toEqual(16);
            });
            
            $httpBackend.flush();
        });
        
        it('should modify the poster urls', function () {
            moviesSvc.query().$promise.then(function (movies) {
                var movie = movies[0];
                
                expect(movie.posters.detailed.indexOf('_det')).toBeGreaterThan(-1);
                expect(movie.posters.original.indexOf('_ori')).toBeGreaterThan(-1);
                expect(movie.posters.profile.indexOf('_pro')).toBeGreaterThan(-1);
            });
                                              
            $httpBackend.flush();
        });
        
    });
}());